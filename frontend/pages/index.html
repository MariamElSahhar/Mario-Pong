<!-- Header (navbar) with left-aligned icon -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
	<div class="container-fluid">
		<div class="d-flex justify-content-start">
			<img
				src="../images/logo.svg"
				class="icon-option me-2"
				alt="Pong Game Logo"
			/>
		</div>
	</div>
</nav>

<!-- Main content area -->
<div class="main-content">
	<div class="container">
		<h1 class="text-center">Welcome to the Classic Pong Game!</h1>

		<!-- Login Form -->
		<form id="loginForm" class="mt-4" autocomplete="off">
			<div class="mb-3">
				<label for="loginUser" class="form-label">Username</label>
				<input
					type="text"
					class="form-control"
					id="loginUser"
					name="user1"
					autocomplete="off"
					autocorrect="off"
					spellcheck="false"
					required
				/>
			</div>
			<div class="mb-3">
				<label for="loginPass" class="form-label">Password</label>
				<input
					type="password"
					class="form-control"
					id="loginPass"
					name="password"
					autocomplete="off"
					required
				/>
			</div>

			<!-- Centered Button -->
			<div class="text-center">
				<button type="submit" class="btn btn-primary w-100">
					Login
				</button>
			</div>
		</form>

		<!-- Link to Registration Page -->
		<p class="mt-3 text-center">
			New user? <a href="/register" onclick="route()">Register here</a>
		</p>
	</div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

<!-- JavaScript to handle login and redirect to home game page -->
<script>
	document
		.getElementById("loginForm")
		.addEventListener("submit", function (event) {
			event.preventDefault(); // Prevent the default form submission

			const username = document.getElementById("loginUser").value;
			localStorage.setItem("loginUsername", username); // Store the username in localStorage
			const password = document.getElementById("loginPass").value;

			// Simulate a login check (replace this with real validation logic later)
			if (username && password) {
				window.history.pushState({}, "", "/home_game"); // Use SPA routing for redirection
				handleLocation(); // Dynamically load the home_game page without reloading
			} else {
				alert("Please enter both username and password.");
			}
		});
</script>
